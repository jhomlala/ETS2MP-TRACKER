<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
 
 
<h:head>
	<h:outputStylesheet library="css" name="http://yui.yahooapis.com/pure/0.5.0/pure-min.css"  />
	<h:outputStylesheet library="css" name="main.css"  /> 
</h:head>
<h:body>
	<div class="container">
	
    	<div class="logo">
    		ETS2MP Tracker
    	</div>
    	    <div class="status">
				<c:choose>
	   				<c:when test="${ets2mpAPI.value == true}"> 
	     		    	<h:graphicImage value="/resources/img/online.png" />
	 			    </c:when>
	    			<c:otherwise>
	        			<h:graphicImage value="/resources/img/offline.png" />
	        		</c:otherwise>
				</c:choose>
					ETS2MP API
				<c:choose>
				    <c:when test="${steamAPI.value == true}"> 
				         <h:graphicImage value="/resources/img/online.png" />
				    </c:when>
				    <c:otherwise>
				        <h:graphicImage value="/resources/img/offline.png" />
				    </c:otherwise>
				</c:choose>
		    	Steam API &nbsp;&nbsp;
		    </div>
    	
    	    <div class="nav">
	    	    <a href="index.xhtml">Player</a> | <a href="servers.xhtml">Servers</a> | <a href="stats.xhtml">Stats</a> | 
	    	    <a href="tops.xhtml">Tops</a> | <a href="about.xhtml">About</a>
    	    </div>
    	<div class="main "> 

			<h2>Top 5 Visited Profiles</h2>
			<h:dataTable value="#{ProfileToplist.profileVisitList}" var="profile"
			 styleClass="topsTable"
        	 headerClass="topsTableHeader"
        	 rowClasses="topsTableOddRow,topsTableEvenRow">
	  			<h:column>    				
	     			 <f:facet name="header">Name</f:facet>    				
	     			 #{profile.NAME}
	   			</h:column>
	   			<h:column>
				      <f:facet name="header">Number of visits</f:facet>
				      #{profile.COUNT}
	  		    </h:column>
	   			<h:column>
	     			 <f:facet name="header">Profile</f:facet>
	     			 <h:form>
		     			 <h:commandLink value="Visit profile" action="player" >
		    			 <f:setPropertyActionListener target="#{PlayerBean.username}" value="#{profile.ID}" /> 
						 </h:commandLink>
	       			 </h:form>
	   			</h:column>
	   

			</h:dataTable>
		
    	
		</div>

		<div class="footer">
			<i>ETS2MP Tracker created by Jakub Homlala</i></div>
	</div>
 
</h:body>
</html>